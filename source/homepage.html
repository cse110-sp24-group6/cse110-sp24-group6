<!DOCTYPE html>
<html lang="en">
<head>
    <title>Developer Journal Home Page</title>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- link to favicon-->
    <!-- TODO-->
    <link rel="icon" type="image/png" sizes="16x16" href="#">
    <!-- Link to CSS section -->
    <link rel="stylesheet" href="assets/styles/updated_homepage_CSS.css">
    <!-- Project Card Custom Element -->
    <script src="assets/scripts/ProjectCard.js" type="module"></script>
    </head>

    <body>
        <header>
            <!-- Navigation bar-->
            <div class="nav-bar-left-container">
                <nav class="nav-bar">
                    <img class="databaes-icon" src="assets/HTML_homepage_pics/databaes_logo.png" alt="databaes logo"/>
                    <a id="home-page-button" class="page-icons" href="#home">
                        <img class="home-icon" src="assets/HTML_homepage_pics/homepage_nav.png" alt="Homepage button"/>
                    </a>
                    <a id="daily-log-button" class="page-icons" href="./dailylog.html">
                        <img class="daily-log-icon" src="assets/HTML_homepage_pics/daily_log_nav.svg" alt="Daily Log Button"/>
                    </a>
                    <a id="to-do-list-button" class="page-icons" href="./todolist.html">
                        <img class="to-do-list-icon" src="assets/HTML_homepage_pics/to-do_list_nav.png" alt="To-Do List button"/>
                    </a>
                </nav>
            </div>
            <div class="content">
                <div>
                    <h1 id="your-dashboard">Your Dashboard</h1>
                </div>
            </div>

        </header>

        <main>
            <!-- Dashboard content -->
            <div class="content" id="dashboard-content">
                <div class="dashboard-container">
                    <!-- Daily Streak-->
                    <section class="daily-log-container">

                        <section class="daily-streak-counter-container">
                            <picture id="log-in-streak-pic">
                                <source height="45px" srcset="assets/HTML_homepage_pics/daily_log_fire.png">
                                <img src="assets/HTML_homepage_pics/daily_log_fire.png" alt="Log In Streak Pic">
                            </picture>
            
                            <section id="day-streak">
                                <h1 id="daily-streak">0</h1>
                                <h4 id="daily-streak-title">Day Streak</h4>
                            </section>
                        </section>

                        <section class="daily-log-visual-title">
                            <!-- Daily log visual's title-->
                            <picture id="daily-journal-pic">
                                <source height="45px" srcset="assets/icons/homepage/daily_log/daily_log_white.png">
                                <img src="assets/icons/homepage/daily_log/daily_log_white.png" alt="Daily Log Journal Pic">
                            </picture>
                            <h1 id="daily-logs-title">Daily Logs</h1>
                        </section>

                        <!-- Used for the Sunday, Monday,... daily counter-->
                        <section class="daily-streak-visual-container">
                            <!-- Days of the week initials-->
                            <p id="sunday-abbr"><b>S</b></p>
                            <p id="monday-abbr"><b>M</b></p>
                            <p id="tuesday-abbr"><b>T</b></p>
                            <p id="wednesday-abbr"><b>W</b></p>
                            <p id="thursday-abbr"><b>Th</b></p>
                            <p id="friday-abbr"><b>F</b></p>
                            <p id="saturday-abbr"><b>Sa</b></p>

                            <!-- Days of the week "logged in" checker-->
                            <img class="daily-log-circle" id="sunday-circle" src="assets/HTML_homepage_pics/unchecked.png" alt="Sunday Visual Circle"/>
                            <img class="daily-log-circle" id="monday-circle" src="assets/HTML_homepage_pics/unchecked.png" alt="Monday Visual Circle"/>
                            <img class="daily-log-circle" id="tuesday-circle" src="assets/HTML_homepage_pics/unchecked.png" alt="Tuesday Visual Circle"/>
                            <img class="daily-log-circle" id="wednesday-circle" src="assets/HTML_homepage_pics/unchecked.png" alt="Wednesday Visual Circle"/>
                            <img class="daily-log-circle" id="thursday-circle" src="assets/HTML_homepage_pics/unchecked.png" alt="Thursday Visual Circle"/>
                            <img class="daily-log-circle" id="friday-circle" src="assets/HTML_homepage_pics/unchecked.png" alt="Friday Visual Circle"/>
                            <img class="daily-log-circle" id="saturday-circle" src="assets/HTML_homepage_pics/unchecked.png" alt="Saturday Visual Circle"/>

                        </section>
                    </section>
        
                    <!-- Overall progress-->
                    <section class="overall-progress">
                        <h2>Tasks Progress</h2>
                        <div class="progress-bar">
                            <div class="outer">
                                <div class="inner">
                                    <div id="progress-number">
                                        0/0
                                    </div>
                                </div>
                            </div>

                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="160px" height="160px">
                                <circle id="stationary-progress" cx="80" cy="80" r="70" stroke-linecap="round"></circle>
                                <circle id="moving-progress" cx="80" cy="80" r="70" transform="rotate(-270)" transform-origin="center" stroke-linecap="round"></circle>
                            </svg>
                        </div>
                    </section>

                    <!-- Recently viewed projects-->
                    <section class="project-cards-container">
                        <h2 id="project-cards-title">Your Projects</h2>
                        <div class="project-cards-grid">
                            <div class="project-add-button-container">
                                <button class ="project-add-button" id="add-button">+</button>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </main>


        <footer>
            <!-- add copyright: databaes thing -->
        </footer>

        <!-- homepage js script-->
        <script defer src="assets/scripts/homepagescript.js"></script>
        <div class="edit-overlay" style="display: none;">
            <div class="edit-form">
                <label for="input-project-name">Project Name</label><br>
                <textarea id="input-project-name" placeholder="Enter your project name"></textarea><br>
                <label for="input-project-description">Project Description</label><br>
                <textarea id="input-project-description" placeholder="Describe your project"></textarea><br>
                <label for="input-github-link">Github Link</label><br>
                <textarea id="input-github-link" placeholder="Github Link"></textarea><br>
                <label for="completed-select-box">This project is:</label>
                <select name="completed-select" id="completed-select-box">
                    <option value="current">Current</option>
                    <option value="completed">Completed</option>
                </select><br>
                <button id="save-button">Save</button>
            </div>
        </div>
        <!-- Task Progress -->
        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const progressNumber = document.getElementById('progress-number');
                const movingProgress = document.getElementById('moving-progress');
                const taskProgress = JSON.parse(localStorage.getItem('taskProgress')) || { completedTasks: 0, totalTasks: 0 };
                const completedTasks = taskProgress.completedTasks;
                const totalTasks = taskProgress.totalTasks;
    
                if (totalTasks > 0) {
                    const progress = (completedTasks / totalTasks) * 100;
                    progressNumber.textContent = `${completedTasks}/${totalTasks}`;
                    movingProgress.style.strokeDasharray = `${progress}, 100`;
                } else {
                    progressNumber.textContent = "0/0";
                    movingProgress.style.strokeDasharray = "0, 100";
                }
            });


      async function registerServiceWorker() {
        if ("serviceWorker" in navigator) {
          try {
            const registration = await navigator.serviceWorker.register(
              "sw.js"
            );
            console.log(
              "Service Worker registered with scope:",
              registration.scope
            );
          } catch (error) {
            console.error("Service Worker registration failed:", error);
          }
        }
      }

      registerServiceWorker();

        </script>
    </body>



</html>
